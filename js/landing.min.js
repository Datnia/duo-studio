function prevSlide(){imgSlider.slick("slickPrev"),contentSlider.slick("slickNext")}function nextSlide(){imgSlider.slick("slickNext"),contentSlider.slick("slickPrev")}function initProjects(){var tl=gsap.timeline({onStart:function(){$("body").addClass("disable-scroll")},onComplete:function(){$("body").removeClass("disable-scroll")}});let scroller=$("#main"),pos=$("#projects").position().top;return tl.to(scroller,2,{transform:"translateY(-"+pos+"px)",ease:"Power3.easeInOut"}),setTimeout(()=>{$("body").addClass("init__projects slide__first"),$(".active").removeClass("active"),$("#projects").addClass("active")},500),!1}function nextSection(){if($("#contact").hasClass("active"))return!1;var next=$(".active").next();let scroller=$("#main"),pos=next.position().top;var tl;return $(window).width()<901&&next.is("#contact")&&(pos=2*$("#projects").height()),console.log(pos),gsap.timeline({onStart:function(){$("body").addClass("disable-scroll"),next.is("#contact")&&setTimeout(()=>{next.removeClass("uninit")},1e3)},onComplete:function(){$("body").removeClass("disable-scroll"),$(".active").removeClass("active"),next.addClass("active")}}).to(scroller,2,{transform:"translateY(-"+pos+"px)",ease:"Power3.easeInOut"}),!1}function prevSection(){var prev=$(".active").prev();let scroller=$("#main"),pos=prev.position().top;var tl;return $(window).width()<901&&(prev.is("#landing")?pos=0:prev.is("#projects")&&(pos=$("#projects").height())),gsap.timeline({onStart:function(){$("body").addClass("disable-scroll")},onComplete:function(){$("body").removeClass("disable-scroll"),$(".active").removeClass("active"),prev.addClass("active")}}).to(scroller,2,{transform:"translateY(-"+pos+"px)",ease:"Power3.easeInOut"}),!1}$((function(){$(window).width()<901&&($(".index #landing").height(window.innerHeight-60),$(".index #projects, .index #contact").height(window.innerHeight))})),sliders=$("#projects aside"),slideIndex=0,sliders.each((function(){slider=$(this),slider.slick({arrows:!1,vertical:!0,centerMode:!0,infinite:!0,centerPadding:0,cssEase:"ease-in-out",speed:1e3,draggable:!1,rows:0,slide:".wrapper"}),slider.find(".slick-current").addClass("allow-pointer"),slider.on("afterChange",(function(){$(".slick-slide").removeClass("allow-pointer"),$("#projects .minor .slick-current").addClass("allow-pointer")}))})),imgSlider=$("#projects .minor"),contentSlider=$("#projects .major"),imgSlider.on("afterChange",(function(event,slick,currentSlide,nextSlide){slideIndex=currentSlide,4==slideIndex&&$("body").addClass("slide__last"),0==slideIndex&&$("body").addClass("slide__first")})),$((function(){$("video").trigger("play"),$("body").on("wheel",(function(e){if($(this).is(".index")){if($(this).hasClass("disable-scroll"))return!1;if(e.originalEvent.deltaY<0)if($(this).hasClass("slide__first"))$(this).removeClass("init__projects"),prevSection();else if($("#contact").hasClass("active"))prevSection();else{if(slideIndex<=0)return!1;$(this).removeClass("slide__last"),prevSlide()}else if($(this).hasClass("loaded")&&!$(this).hasClass("init__projects"))initProjects();else if($(this).hasClass("slide__last"))nextSection();else{if(slideIndex>=4)return!1;$(this).removeClass("slide__first"),nextSlide()}}}))})),$((function(){document.addEventListener("touchstart",handleTouchStart,!1),document.addEventListener("touchmove",handleTouchMove,!1);var xDown=null,yDown=null;function getTouches(evt){return evt.touches||evt.originalEvent.touches}function handleTouchStart(evt){const firstTouch=getTouches(evt)[0];xDown=firstTouch.clientX,yDown=firstTouch.clientY}function handleTouchMove(evt){let active,slider=$("body").find(".active").find(".slider");if(xDown&&yDown){var xUp=evt.touches[0].clientX,yUp=evt.touches[0].clientY,xDiff=xDown-xUp,yDiff=yDown-yUp;if(Math.abs(xDiff)>Math.abs(yDiff));else if($("body").is(".index"))if(yDiff>0){if($("body").hasClass("disable-scroll"))return!1;if($("body").hasClass("loaded")&&!$("body").hasClass("init__projects"))initProjects();else if($("body").hasClass("slide__last"))nextSection();else{if(slideIndex>=4)return!1;$("body").removeClass("slide__first"),nextSlide()}}else{if($("body").hasClass("disable-scroll"))return!1;if($("body").hasClass("slide__first"))$("body").removeClass("init__projects"),prevSection();else if($("#contact").hasClass("active"))prevSection();else{if(slideIndex<=0)return!1;$("body").removeClass("slide__last"),prevSlide()}}xDown=null,yDown=null}}})),$((function(){$("a.projects").click((function(){initProjects()}))}));