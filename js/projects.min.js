function initCanvas(){var canvas=document.createElement("canvas"),ctx=canvas.getContext("2d"),containerWidth=document.getElementById("canvas").getBoundingClientRect().width,containerHeight=document.getElementById("canvas").getBoundingClientRect().height,width=canvas.width=containerWidth,hgt=canvas.height=containerHeight;canvas.width=250,canvas.height=250,document.getElementById("canvas").appendChild(canvas);var circ=4*(Math.sqrt(2)-1)/3,c=circ,count=Math.PI;function drawBezierCircle(cx,cy,r){var c,offsetX=10*Math.sin(count),offsetY=5*Math.cos(2*count);count+=.015,ctx.translate(cx,cy),ctx.beginPath(),c=circ+.2*Math.sin(count),ctx.moveTo(offsetX+0,offsetY+-r),ctx.bezierCurveTo(offsetX+c*r,offsetY+-r,offsetX+r,offsetY+-c*r,offsetX+r,offsetY+0),c=circ+.2*Math.cos(count),ctx.bezierCurveTo(offsetX+r,offsetY+c*r,offsetX+c*r,offsetY+r,offsetX+0,offsetY+r),c=circ+.2*Math.sin(2*count),ctx.bezierCurveTo(offsetX+-c*r,offsetY+r,offsetX+-r,offsetY+c*r,offsetX+-r,offsetY+0),c=circ+.2*Math.cos(count+1),ctx.bezierCurveTo(offsetX+-r,offsetY+-c*r,offsetX+-c*r,offsetY+-r,offsetX+0,offsetY+-r),ctx.fill(),ctx.fillStyle="#070c14"}function render(){requestAnimationFrame(render),ctx.setTransform(1,0,0,1,0,0),ctx.clearRect(0,0,width,hgt),drawBezierCircle(125,125,110)}render()}function initFooter(){var tl=gsap.timeline();let minor=$("#footer .minor"),anim=$("#footer .anim");tl.to(minor,.7,{maxWidth:"20vw",ease:Expo.easeInOut}),tl.to(anim,{opacity:1,y:0,stagger:.1})}$((function(){initCanvas()})),$((function(){let slider;$("#slider .container").each((function(){let carousel=$(this);carousel.slick({slidesToShow:1,slidesToScroll:1,arrows:!1,rows:0,variableWidth:!0,cssEase:"ease-out",infinite:!1,responsive:[{breakpoint:901,settings:{centerMode:!0}}]}),carousel.parent().hasClass("left")&&$(window).width()>901&&carousel.slick("slickGoTo",4)})),$(".slider__center").slick("slickSetOption","centerMode",!0,!0)})),$((function(){let video;$("video").each((function(){let trigger=$(this);gsap.from(trigger,1,{scrollTrigger:{trigger:trigger,start:"top 65%",once:!0,onEnter:function(){trigger[0].play()}},opacity:0,y:40})}))})),$((function(){let anim;$(".st").each((function(){let trigger=$(this);gsap.from(trigger,1,{scrollTrigger:{trigger:trigger,start:"top 65%"},opacity:0,y:150})}))})),$((function(){let anim;$(".st__left").each((function(){let trigger=$(this);gsap.from(trigger,1,{scrollTrigger:{trigger:trigger,start:"top 65%"},opacity:0,x:50})}))})),$((function(){let anim;$(".st__right").each((function(){let trigger=$(this);gsap.from(trigger,1,{scrollTrigger:{trigger:trigger,start:"top 65%"},opacity:0,x:-50})}))})),$((function(){let trigger=$(".stg-p");trigger.each((function(){let anim=$(this).find(".stg");gsap.from(anim,1,{scrollTrigger:{trigger:trigger,start:"top 65%"},opacity:0,y:100,stagger:.2})}))})),$((function(){let triggers;$(".st__bg-light").each((function(){let trigger=$(this);gsap.from(trigger,{scrollTrigger:{trigger:trigger,start:"top 50%",once:!0,onEnter:function(){trigger.removeClass("bg__midnight bg__dark"),trigger.addClass("bg__light")}}})}))})),$((function(){let triggers;$(".st__bg-dark").each((function(){let trigger=$(this);gsap.from(trigger,{scrollTrigger:{trigger:trigger,start:"top 50%",once:!0,onEnter:function(){trigger.removeClass("bg__light bg__midnight"),trigger.addClass("bg__dark")}}})}))})),$((function(){let triggers;$(".st__bg-midnight").each((function(){let trigger=$(this);gsap.from(trigger,{scrollTrigger:{trigger:trigger,start:"top 50%",once:!0,onEnter:function(){trigger.removeClass("bg__light bg__dark"),trigger.addClass("bg__midnight")}}})}))})),$((function(){let trigger=$(".st__col").closest("section");trigger.each((function(){let animCol=$(this).find(".st__col"),animRow=$(this).find(".st__row aside");gsap.from(animCol,1,{scrollTrigger:{trigger:trigger,start:"top 50%"},opacity:0,y:150}),gsap.from(animRow,.7,{scrollTrigger:{trigger:trigger,start:"top 50%"},opacity:0,x:50,stagger:.2,delay:.5})}))})),$((function(){var tl=gsap.timeline();let trigger=$("#footer");tl.to(trigger,{scrollTrigger:{trigger:trigger,start:"top 15%",onEnter:function(){initFooter()}}})})),$(window).scroll((function(){var opacity=1-scrollY/$("#banner").height();$("#banner > *").css("opacity",opacity)})),$((function(){$("#footer").click((function(){$(this).find("a")[0].click()}))}));