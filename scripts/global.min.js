document.addEventListener("DOMContentLoaded",function(e){gsap.registerPlugin(ScrollTrigger,ScrollSmoother,Draggable,InertiaPlugin);ScrollSmoother.create({smooth:.4});gsap.set(".cursor",{xPercent:-50,yPercent:-50});var t=document.querySelector(".cursor"),r={x:window.innerWidth/2,y:window.innerHeight/2},o={x:r.x,y:r.y},s=.1,n=.06,a=gsap.quickSetter(t,"x","px"),i=gsap.quickSetter(t,"y","px");document.body.addEventListener("mousemove",e=>{o.x=e.x,o.y=e.y}),gsap.ticker.add((e,t)=>{var c=t*n,l=1-Math.pow(1-s,c);r.x+=(o.x-r.x)*l,r.y+=(o.y-r.y)*l,a(r.x),i(r.y)}),gsap.utils.toArray(".hide-cursor").forEach(e=>{e.addEventListener("mouseenter",function(){document.body.classList.add("cursor__hidden")}),e.addEventListener("mouseleave",function(){document.body.classList.remove("cursor__hidden")})}),gsap.to(".promo-spacer",{height:0,scrollTrigger:{trigger:"#banner .top",pin:!0,scrub:!0,end:"+=600",onLeave:function(){ScrollTrigger.refresh()}}}),gsap.utils.toArray(".split__headline").forEach(e=>{new SplitText(e,{type:"lines",linesClass:"line"})}),gsap.utils.toArray(".st__headline .no-overflow").forEach(e=>{var t=new SplitText(e,{type:"lines",linesClass:"line"});gsap.from(t.lines,.8,{yPercent:50,rotation:5,opacity:0,ease:"Power2.easeOut",stagger:.1,scrollTrigger:{trigger:e,start:"top 80%"}})});var c=document.querySelectorAll(".btn__circle");c.forEach(e=>{var t=1,r=1,o=!1;window.addEventListener("mousemove",function(a){function i(e){if(!e.getClientRects().length)return{top:0,left:0};let t=e.getBoundingClientRect(),r=e.ownerDocument.defaultView;return{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}}var c=o?t:r,l={x:a.clientX,y:a.clientY+this.window.scrollY},d=e.clientWidth,g=e.clientHeight,u=i(e),p={x:u.left+d/2,y:u.top+g/2},y=l.x-p.x,f=l.y-p.y,m=Math.sqrt(y*y+f*f),v=!1;m<d*c&&(v=!0,o||(o=!0),s(y,f)),!v&&o&&(n(),o=!1)});var s=function(t,r){document.body.classList.add("cursor__hidden"),e.classList.add("active"),gsap.to(e,.4,{x:.4*t,y:.4*r,ease:Power2.easeOut}),gsap.to(e.querySelector("p"),.4,{x:.1*t,y:.1*r,ease:Power2.easeOut})},n=function(){document.body.classList.remove("cursor__hidden"),e.classList.remove("active"),gsap.to(e,1,{x:0,y:0,scale:1,ease:Elastic.easeOut.config(1.2,.4)}),gsap.to(e.querySelector("p"),1,{x:0,y:0,scale:1,ease:Elastic.easeOut.config(1.2,.4)})}});var l=document.querySelector(".footer-spacer"),d=window.innerHeight;gsap.from("footer",{yPercent:-50,scrollTrigger:{trigger:l,start:"top bottom",scrub:!0,end:"+="+d}})}),document.addEventListener("DOMContentLoaded",function(e){gsap.utils.toArray(".card").forEach((e,t)=>{var r,o=e.querySelector("video"),s=t+1;r=s%2==0?"-6vw":"6vw",gsap.to(e,{y:r,scrollTrigger:{trigger:e,start:"top bottom",scrub:!0}}),e.addEventListener("mouseenter",function(){o.play(),o.loop=!0,document.body.classList.add("cursor__hover")}),e.addEventListener("mouseleave",function(){o.pause(),o.loop=!1,document.body.classList.remove("cursor__hover")})}),gsap.utils.toArray(".bg__trigger").forEach(e=>{ScrollTrigger.create({trigger:e,start:"top 80%",end:"bottom 80%",toggleClass:{targets:".bg__dark",className:"bg__light"}})})});